<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"><title>Hello WebXR!</title><script src="https://unpkg.com/three@0.126.0/build/three.js"></script></head><body>  <button onclick="activateXR()">Start Hello WebXR</button> <script>async function activateXR(){const e=document.createElement("canvas");document.body.appendChild(e);const a=e.getContext("webgl",{xrCompatible:!0}),r=new THREE.Scene,t=[new THREE.MeshBasicMaterial({color:16711680}),new THREE.MeshBasicMaterial({color:255}),new THREE.MeshBasicMaterial({color:65280}),new THREE.MeshBasicMaterial({color:16711935}),new THREE.MeshBasicMaterial({color:65535}),new THREE.MeshBasicMaterial({color:16776960})],n=new THREE.Mesh(new THREE.BoxBufferGeometry(.2,.2,.2),t);n.position.set(1,1,1),r.add(n);const o=new THREE.WebGLRenderer({alpha:!0,preserveDrawingBuffer:!0,canvas:e,context:a});o.autoClear=!1;const i=new THREE.PerspectiveCamera;i.matrixAutoUpdate=!1;const s=await navigator.xr.requestSession("immersive-ar");s.updateRenderState({baseLayer:new XRWebGLLayer(s,a)});const c=await s.requestReferenceSpace("local"),E=(e,t)=>{s.requestAnimationFrame(E),a.bindFramebuffer(a.FRAMEBUFFER,s.renderState.baseLayer.framebuffer);const n=t.getViewerPose(c);if(n){const e=n.views[0],a=s.renderState.baseLayer.getViewport(e);o.setSize(a.width,a.height),i.matrix.fromArray(e.transform.matrix),i.projectionMatrix.fromArray(e.projectionMatrix),i.updateMatrixWorld(!0),o.render(r,i)}};s.requestAnimationFrame(E)}</script> </body></html>